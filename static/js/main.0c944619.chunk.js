(this.webpackJsonpdo2getherplayerrewardsstarratingv18=this.webpackJsonpdo2getherplayerrewardsstarratingv18||[]).push([[0],{20:function(e,t,a){},26:function(e,t,a){"use strict";a.r(t);var c=a(4),s=a(14),n=a.n(s),r=(a(20),a(10));var l=a(3);function o(){return Object(l.jsxs)("h1",{className:"hidden-content",children:["Do2gether"," ",Object(l.jsx)("span",{role:"img","aria-label":"Soccer ball",children:"\u26bd"})]})}var i=a(15);function d(e){let{selected:t=!1,onSelect:a}=e;return Object(l.jsx)(i.a,{size:"2em",color:t?"gold":"#444444",onClick:a})}function j(e){let{totalStars:t=5,returnSelectedStars:a=(e=>e)}=e;const[s,n]=Object(c.useState)(0);return Object(c.useEffect)((()=>a(s)),[s,a]),Object(l.jsx)("div",{children:(r=t,[...Array(r)]).map(((e,t)=>Object(l.jsx)(d,{selected:s>t,onSelect:()=>n(t+1)},t)))});var r}function m(e){let{playerName:t,updateTeamRewards:a=(e=>e)}=e;const[s,n]=Object(c.useState)(0);return Object(c.useEffect)((()=>{a((e=>({...e,[t]:s})))}),[s]),Object(l.jsxs)("div",{className:"playerRatingComponent",children:[t," \u2b50x",s,Object(l.jsx)(j,{returnSelectedStars:n})]})}function u(e){let{teamPlayers:t,teamName:a,teamCaptain:c,updateTeamRewards:s}=e;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("h4",{style:{padding:"10px 0px"},children:[a," Rewards"," ",Object(l.jsxs)("span",{style:{fontSize:"smaller"},children:[c,"(C)"]}),":"]}),t.map((e=>Object(l.jsx)(m,{playerName:e,updateTeamRewards:s},e)))]})}function b(e){let{optionsArray:t=[],selectLabel:a="Please Select:",stateVariable:c,setStateVariable:s}=e;return Object(l.jsxs)("label",{htmlFor:"selectForm",children:[a,Object(l.jsxs)("select",{name:"selectForm",title:"Select Best Player in this Team:",value:c,onChange:e=>s(e.target.value),children:[Object(l.jsx)("option",{}),t.map((e=>Object(l.jsx)("option",{vlaue:e,children:e},e)))]})]})}var O=async e=>{let{collectionId:t="new collection",docId:a,document:c}=e;const s=r.a.firestore().collection(t).doc(a);await s.set(c,{merge:!0}).then((()=>{console.log("Document successfully written!")})).catch((e=>{console.error("Error writing document: ",e)}))};function h(e){let{teamOne:t,teamTwo:a,docId:s,gameNumber:n}=e;const[r,o]=Object(c.useState)(!1);function i(e,t){return e<t?-1:e>t?1:0}const d=e=>Object.values(e).some((e=>0===e)),j=t.teamName,m=t.teamCaptain,h=Object.values(t.teamPlayers).reduce(((e,t)=>e.concat(t.playerName).sort(i)),[]),p=a.teamName,x=a.teamCaptain,g=Object.values(a.teamPlayers).reduce(((e,t)=>e.concat(t.playerName).sort(i)),[]),y=[...h,...g].sort(i),[S,f]=Object(c.useState)(""),[N,v]=Object(c.useState)({}),[w,I]=Object(c.useState)({}),[C,P]=Object(c.useState)(""),T=d(N),R=d(w),[E,F]=Object(c.useState)({});return Object(c.useEffect)((()=>{F({raterName:S,team1Rewards:{...N},team2Rewards:{...w},kingOfTheMatch:C})}),[S,N,w,C]),r?Object(l.jsx)("p",{children:"Thank you, your response has been submitted \ud83d\udc9d"}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("label",{htmlFor:"user",children:["Please enter your name: \ud83d\udc96",Object(l.jsx)("input",{type:"text",value:S,onChange:e=>f(e.target.value)})]}),Object(l.jsx)(b,{optionsArray:y,selectLabel:"\ud83d\udc51 Please choose the KING OF THE MATCH: \ud83d\udc51 (\u2b50x7)",stateVariable:C,setStateVariable:P}),""!==C?Object(l.jsx)(u,{teamPlayers:h.filter((e=>e!==C)),teamName:j,teamCaptain:m,updateTeamRewards:v}):"",Object(l.jsx)("hr",{}),""!==C?Object(l.jsx)(u,{teamPlayers:g.filter((e=>e!==C)),teamName:p,teamCaptain:x,updateTeamRewards:I}):"",""===C?"":""===S?Object(l.jsx)("p",{className:"alert",children:"Please Enter your name to submit"}):T?Object(l.jsxs)("p",{className:"alert",children:["Please rate all players in ",j,"."]}):R?Object(l.jsxs)("p",{className:"alert",children:["Please rate all players in ",p,"."]}):Object(l.jsx)("div",{onClick:()=>{O({collectionId:"SoccerMastersEventsCollection",docId:s,document:{rewards:{[S]:{...E,gameNumber:n}}}}).then((()=>o(!0)))},className:"usableButton",style:{textAlign:"center",margin:"10px auto"},children:"Ready to Submit \ud83e\udd70"})]})}function p(){const e=!1,[t,a]=Object(c.useState)(!0),[s,n]=Object(c.useState)({}),i="event195-teams";if(Object(c.useEffect)((()=>{(async e=>{let{collectionId:t,docId:a,setLoadingFunction:c,updateObjectFunction:s}=e;c(!0);const n=r.a.firestore().collection(t).doc(a);await n.get().then((e=>{if(!e.exists)return console.log("No such document!");{const t=e.data();s(t)}})).catch((e=>{console.log("Error getting document:",e)})),c(!1)})({collectionId:"SoccerMastersEventsCollection",docId:i,setLoadingFunction:a,updateObjectFunction:n})}),[e]),t)return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)("section",{className:"SiteHeader",children:Object(l.jsx)(o,{})}),Object(l.jsx)("section",{className:"MainContent",children:Object(l.jsx)("h1",{children:"Loading ya Qamar \ud83e\udd70"})})]});{const e=new URLSearchParams(window.location.search).get("gid"),{eventName:t,eventNumber:a,eventGames:c}=s,n=e||0,r=c[n],{gameLocation:d,gameName:j,gameTeams:m}=r,u=m[0],b=m[1];return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)("section",{className:"SiteHeader",children:Object(l.jsx)(o,{})}),Object(l.jsxs)("section",{className:"MainContent",children:[Object(l.jsxs)("h2",{children:[t," #",a]}),Object(l.jsxs)("h3",{children:[j," @ ",d]}),Object(l.jsx)("p",{}),Object(l.jsx)(h,{teamOne:u,teamTwo:b,docId:i,gameNumber:n})]})]})}}r.a.initializeApp({apiKey:"AIzaSyD9VNI8v-CwRAnmtsSby4vq8YYi8XI1S8c",authDomain:"do2gether-22.firebaseapp.com",projectId:"do2gether-22",storageBucket:"do2gether-22.appspot.com",messagingSenderId:"241882367589",appId:"1:241882367589:web:fd8a4fd44c538b578be88c"});const x=document.getElementById("root");n.a.render(Object(l.jsx)(c.StrictMode,{children:Object(l.jsx)(p,{})}),x)}},[[26,1,2]]]);
//# sourceMappingURL=main.0c944619.chunk.js.map